(function(){var e=function(a){return new e(a)};this.mango=e;var n={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},p=/\\|'|\r|\n|\t|\u2028|\u2029/g,q={"<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;","&":"&amp;"},r=/\'|\"|>|<|&/g,m=/(.)^/,h=function(a,b,c){"undefined"===typeof c&&(c=10);for(b+="";parseInt(a,10)<c&&1<c;c/=10)a=b+a;return a.toString()},j={formats:{a:function(a,b){return b.P[12<=a.getHours()?1:0]},A:function(a,b){return b.p[12<=a.getHours()?1:0]},b:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          b){return b.b[a.getMonth()].toLowerCase()},d:["getDate","0"],D:function(a,b){return b.a[a.getDay()]},e:function(a){var b=a.toString().replace(/^.*:\d\d( GMT[+-]\d+)? \(?([A-Za-z ]+)\)?\d*$/,"$2").replace(/[a-z ]/g,"");4<b.length&&(b=j.formats.z(a));return b},E:function(a,b){return b.B[a.getMonth()]},f:function(a){var b=j.formats.g(a);a=h(a.getMinutes(),0);return 0===parseInt(a,10)?b:b+":"+a},F:function(a,b){return b.B[a.getMonth()]},g:function(a){a=a.getHours()%12;return h(0===a?12:a,"")},G:function(a){return a.getHours()},
    h:function(a){a=a.getHours()%12;return h(0===a?12:a,0)},H:function(a){return h(a.getHours(),0)},i:["getMinutes","0"],I:function(a){a=a.getTimezoneOffset();var b,c,d=new Date,g=d.getTimezoneOffset(),e=d.getTimezoneOffset();for(b=0;365>b;b++)d.setDate(b),c=d.getTimezoneOffset(),c<=g?g=c:e=c;return g===e?0:g===a?1:0},j:"getDate",k:["getHours"," "],l:function(a,b){return b.A[a.getDay()]},L:function(a){a=a.getFullYear();return 0===a%4&&(0!==a%100||0===a%400)},m:function(a){return h(a.getMonth()+1,0)},
    M:function(a,b){return b.b[a.getMonth()]},n:function(a){return a.getMonth()+1},N:function(a,b){return b.bb[a.getMonth()]},o:function(a){var b=a.getFullYear(),c=parseInt(j.formats.W(a),10);a=parseInt(j.formats.V(a),10);a>c?b++:0===c&&52<=a&&b--;return b},O:function(a){a=a.getTimezoneOffset();var b=h(parseInt(Math.abs(a/60),10),0),c=h(Math.abs(a%6),0);return(0<a?"-":"+")+b+c},r:function(a){return a},s:["getSeconds","0"],S:function(a,b){var c,d=a.getDate();c=d%10;11<=d&&13>=d?c=0:3<c&&(c=0);return b.S[c]},
    t:function(a,b){var c=b.t[a.getMonth()];return 28==c&&j.formats.L?29:c},T:function(){return j.formats.e(new Date)},u:function(a){return 1E3*a.getMilliseconds()},U:function(a){return parseInt(a.getTime()/1E3,10)},V:function(a){var b=parseInt(j.formats.z(a),10);a=a.getDay();b=parseInt((b+(7-(0===a?7:a)))/7,10);return h(b,0,10)},w:"getDay",W:function(a){var b=parseInt(j.formats.V(a),10),c=(new Date(""+a.getFullYear()+"/1/1")).getDay(),b=b+(4<c||1>=c?0:1);53===b&&4>(new Date(""+a.getFullYear()+"/12/31")).getDay()?
        b=1:0===b&&(b=j.formats.V(new Date(""+(a.getFullYear()-1)+"/12/31")));return b},y:function(a){return h(a.getFullYear()%100,0)},Y:"getFullYear",z:function(a){var b=new Date(""+a.getFullYear()+"/1/1 GMT");a=new Date(""+a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate()+" GMT")-b;a=parseInt(a/6E4/60/24,10)+1;return h(a,0,0)},Z:function(a){a=a.getTimezoneOffset();var b=h(parseInt(Math.abs(0.6*a),10),0),c=h(Math.abs(a%6),0);return(0<a?"-":"+")+b+c},"%":function(){return"%"}},aggregates:{c:"o-m-deg:i:s.uO",
    r:"D, d M o H:i:s O",R:"H:M",t:"    ",T:"H:M:S",x:"locale",P:"g:i a"},format:function(a,b){b=b||"Y-m-d";if(!a.constructor===Date)return a.constructor?a:"";var c;c={a:"Sun Mon Tue Wed Thu Fri Sat".split(" "),A:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),b:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),bb:"Jan. Feb. March April May June July Aug. Sept. Oct. Nov. Dec.".split(" "),B:"January February March April May June July August September October November December".split(" "),
    c:"a, b d, Y l:M:S p Z",p:["AM","PM"],P:["a.m.","p.m."],S:["th","st","nd","rd"],t:"31 28 31 30 31 30 31 31 30 31 30 31".split(" "),x:"m/d/y",X:"l:M p"};for(var d=function(a,b){var d=j.aggregates[b];return"locale"===d?c[b]:d},e=function(b,d){var e=j.formats[d];switch(e.constructor===Array?"array":typeof e){case "string":return a[e]();case "function":return e.call(a,a,c);case "array":if("string"===typeof e[0])return h(a[e[0]](),e[1]);default:return d}};b.match(/[crPRxX]/);)b=b.replace(/([crPRxX])/g,
    d);var f=b.replace(/([aAbBCdDeEfFgGhHiIjklLmMnNoOsStTuUVwWyYzZ])/g,e),d=e=void 0;return f}};e.strftime=j.format;e.URLConf=new function(){var a={};return{register:function(b,c){a[b]=c},parse:function(b){var c,d=b.slice(0);b=d.shift();b=b.replace(/[\"|\']/gi,"");c=a[b];if(void 0!==c){var e,f=(b=c.match(/<[a-z-_]+>/gi))?b.length:0;for(e=0;e<f;e++)b[e]=b[e].replace(/[<>]/gi,"");var l,k;e={};var h=!1;d[0]&&-1!==d[0].indexOf("=")&&(h=!0);for(f=0;f<d.length;f++)l=d[f],h?(k=l.split("="),l=k.pop()):k=b[f],
    e[k]=l;var d=c,j;k="print('/'";h=b?b.length:0;for(c=f=0;c<h;c++)l=d.indexOf("<"+b[c]+">",f),j=b[c].length+2,k+=" + '"+d.substring(f,l)+"' + ",k+=e[b[c]],f=l+j;return k=0!==h?k+(" + '"+d.substring(f,f+j)+"');"):k+(" + '"+d+"');")}return""}}};e.jsVerbatim=function(a){var b={"\\'":"\\'",'\\"':'\\"',"\\":"\\\\","\u2028":"\\u2028","\u2029":"\\u2029"},c=/\\'|\\"|\\|\u2028|\u2029/g;a.constructor===String&&(a=a.replace(c,function(a){return b[a]}));return a};e.each=e.forEach=function(a,b,c){if(null!=a)if(Array.prototype.forEach&&
    a.forEach===Array.prototype.forEach)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;d<e&&b.call(c,a[d],d,a)!=={};d++);else for(d in a)if(Object.prototype.hasOwnProperty.call(a,d)&&b.call(c,a[d],d,a)==={})break};e.isArray=Array.isArray||function(a){return"[object Array]"==toString.call(a)};e.filters={add:function(a,b){try{return Number(a)+Number(b)}catch(c){return a+b}},capfirst:function(a){a.constructor===Boolean&&(a=a.toString());return a.constructor===String?a[0].toUpperCase()+
    a.substring(1,a.length):a},cut:function(a,b){return a.replace(b,"")},date:function(a,b){return e.strftime(new Date(a),b)},"default":function(a,b){return!a?b:a},default_if_none:function(a,b){return null===a?b:a},divisibleby:function(a,b){try{if(0===Number(a)%Number(b))return!0}catch(c){}return!1},first:function(a){return a[0]},join:function(a,b){return a.join(b)},last:function(a){return a[a.length-1]},length:function(a){return a.length},length_is:function(a,b){return a.length===Number(b)},linebreaksbr:function(a){return a.replace(/\n/g,
    "<br />")},lower:function(a){return a.constructor!==String&&a.constructor!==Number?a=e.filters._traverse_obj_and_apply_string_method(a,String.prototype.toLowerCase):a.toLowerCase()},make_list:function(a){return String(a).split("")},phone2numeric:function(a){var b={a:"2",b:"2",c:"2",d:"3",e:"3",f:"3",g:"4",h:"4",i:"4",j:"5",k:"5",l:"5",m:"6",n:"6",o:"6",p:"7",q:"7",r:"7",s:"7",t:"8",u:"8",v:"8",w:"9",x:"9",y:"9",z:"9"};a=e.filters.make_list(e.filters.lower(a));e.each(a,function(c,d){a[d]=b.hasOwnProperty(c)?
    b[c]:c});return a.join("")},pluralize:function(a,b){var c="",d="s";void 0!==b&&-1!==b.indexOf(",")?(b=b.split(","),c=b[0].replace(",",""),d=b[1].replace(",","")):void 0!==b&&(d=b);return 1===a?c:d},random:function(a){return a[Math.floor(Math.random()*a.length)]},slice:function(a,b){b=b.split(":");if(b[0].length&&b[0]===b[1])return"";b[0]=!b[0].length?0:Number(b[0]);b[1]=!b[1].length?a.length:Number(b[1]);b[1]=0>b[1]?a.length+b[1]:b[1];b[1]-=b[0];return a.substr(b[0],b[1])},slugify:function(a){return e.filters.trim(a).toLowerCase().replace(/\n/g,
    "").replace(/ +/g," ").replace(/ /g,"-").replace(/[^\w\s-]/g,"")},trim:function(a){return a.replace(/^\s+|\s+$/g,"")},title:function(a){a=a.split(" ");e.each(a,function(b,c){try{b=e.filters.capfirst(b)}catch(d){}a[c]=b});return a.join(" ")},upper:function(a){a.constructor===Boolean&&(a=a.toString());return a.constructor!==String&&a.constructor!==Number?a=e.filters._traverse_obj_and_apply_string_method(a,String.prototype.toUpperCase):a.toUpperCase()},urlencode:function(a,b){a=encodeURIComponent(a);
    if((b=void 0===b?"/":b)&&b.length)b=b.split(""),e.each(b,function(b){var d=RegExp(encodeURIComponent(b),"g");a=a.replace(d,b)});return a},truncatechars:function(a,b){b=3<=a.length?b-3:a.length;return a.substr(0,b)+"..."},truncatewords:function(a,b){a=a.replace(/\n/g,"").split(" ");a=a.slice(0,b);return a=1<=a.length?a.join(" ")+" ...":"..."},escape:function(a){return a.constructor===String?a.replace(r,function(a){return q[a]}):a},_traverse_obj_and_apply_string_method:function(a,b){e.each(a,function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            d,g){a.constructor!==String&&a.constructor!==Number?e.filters._traverse_obj_and_apply_string_method(a,b):a.constructor!==Number&&(g[d]=b.call(a))});return a},apply:function(a,b,c){var d,g,f=!1,h=!c?a.split("|"):[a];a=h.shift();b=void 0===b?[]:b.split(",");h=h.concat(b);for(b=0;b<h.length;b++)d=e.filters.trim(h[b]).split(/:(.+)/),g=1<d.length?d[1]:void 0,d=d[0],void 0!==e.filters[d]&&"safe"!==d&&!c?a="mango.filters."+d+"("+a+", "+g+")":void 0!==e.filters[d]&&"safe"!==d?a=e.filters[d](a,g):"safe"===
    d&&(f=!0);!f&&!c&&(a="mango.filters.escape("+a+")");return a},_filters:[]};e.cycle=function(a){if(-1!==a.indexOf("mango.filters")){var b=a.match(/mango\..+?\),/gi);e.each(b,function(b,c){a=a.replace(b,"__filter_idx_"+c+",")});a=a.split(",");e.each(a,function(c,d){-1!==c.indexOf("__filter_idx_")&&(c=c.replace("__filter_idx_",""),c=b[Number(c)],a[d]=c.substr(0,c.length-1))})}else a=a.split(",");-1!==a.indexOf("as")&&("silent"===a[a.length-1]&&(this.silent=!0,a.pop()),this.ctx_var=a.pop(),a.pop());var c=
    -1,d=a.length-1;this.get_next=function(){c=c===d?0:c+=1;return a[c]};this.get_current=function(b){return b&&this.silent?"":a[c]}};e.is_true=function(a){var b,c=0;if(a.constructor===Array)return a.length?!0:!1;if(a.constructor===Object){for(b in a)a.hasOwnProperty(b)&&c++;return 0<c}return a?!0:!1};e.tags={_for_closing_tags:[],_getOutputString:function(a){return"\n__p+=''+\n((__t=("+a+"))==null?'':__t)+\n'';\n"},comment:function(){return"if (false) { \n"},endcomment:function(){return" } \n"},cycle:function(a){var b=
    (-1!==a.indexOf("as")?"silent"===a[a.length-1]?a[a.length-2]:a[a.length-1]:!1)||a.join(",");a=""+('obj._cycles["'+b+'"] = obj._cycles["'+b+'"] || new mango.cycle("'+a+'");\n')+('var __cycle = obj._cycles["'+b+'"]; \n');a+="__cycle.get_next(); \n";"'"!==b[0]&&'"'!==b[0]&&(a+=" if (__cycle.ctx_var) { \n",a+="\t var "+b+" = eval(__cycle.get_current()); \n",a+=" } \n");return a+=e.tags._getOutputString("eval(__cycle.get_current(true))")},filter:function(a){a=a[0].split("|");e.filters._filters.push(e.filters._filters.concat(a));
    return'__p += (function(filters) {\n \tvar __p = ""; \n'},endfilter:function(){var a;a="\n return ((__t=( mango.filters.apply(__p, filters, true)  ))==null?'':__t ); \n";return a+='})( "'+e.filters._filters.pop()+'")'},firstof:function(a){var b="__p += (function() { \n";e.each(a,function(a,d){a=e.jsVerbatim(a);b+=0<d?" else if ":"\t if ";b+=" ("+a+" && mango.is_true("+a+")) { \n";b+=" \t\t return ((__t=("+a+'))==null?"":__t ); \n';b+="\t }"});b+='\n return "" ';return b+=" \n })();"},"if":function(a){var b;
    for(b=0;b<a.length;b++)switch(a[b]){case "and":a[b]="&&";break;case "or":a[b]="||";break;case "not":a[b]="!";break;case "True":a[b]=!0;break;case "False":a[b]=!1}return"if ("+a.join(" ")+") { \n"},elif:function(a){return"\n } else "+e.tags["if"](a)},"else":function(){return"\n } else { \n"},endif:function(){return"\n } \n"},"for":function(a){e.tags._for_closing_tags.push("});");var b,c=!1,d=a.slice(0,a.indexOf("in")),g=a.slice(a.indexOf("in")+1,a.length+1)[0];for(a=0;a<d.length;a++)d[a]=d[a].replace(",",
    ""),""===d[a]&&d.splice(a,1);g=g.split(".");"items"===g[g.length-1].toLowerCase()&&(g.pop(),c=!0);g=g.join(".");b="\n\t\t var __c=0; \n\t\t if (!mango.isArray("+g+")) { \n\t\t\t mango.each("+g+", function(__th, i, __obj){ \n if ("+g+".hasOwnProperty(i)) {__c++;}}); \n\t\t} else { \n\t\t\t __c = "+g+".length; \n\t\t } \n\t\t forloop.__i=0; forloop.__c = __c; \n";b+="\t\t if (forloop.__c > 0) { \n ";b+="\t\t\t mango.each("+g+", function(__th, i, __obj) { \n";b+="\t\t\t\t if (!mango.isArray("+g+")) { \n";
    b=1==d.length&&c?b+("\t\t\t\t\t var "+d[0]+" = '(' + i + ' : ' + __th + ')'; \n"):1==d.length?b+("\t\t\t\t\t var "+d[0]+" = i; \n"):b+("\t\t\t\t\t var "+d[0]+" = i; \n\t\t\t\t\t var "+d[1]+" = __th; \n");b+="\t\t\t\t } else { \n";for(a=0;a<d.length;a++)b+="\t\t\t\t\t if (typeof("+g+"["+a+"]) == 'object') { \n",b+="\t\t\t\t\t\t var "+d[a]+" = "+g+"[i]["+a+"]; \n",b+="\t\t\t\t\t } else { \n",b+="\t\t\t\t\t\t var "+d[a]+" = "+g+"[i]; \n",b+="\t\t\t\t\t } \n";c=b+="\t\t\t\t } \n";d="\t forloop.counter = forloop.__i + 1;\n\t forloop.counter0 = forloop.__i;\n";
    d+="\t forloop.revcounter = forloop.__c - forloop.__i;\n";d+="\t forloop.revcounter0 = forloop.__c - forloop.__i - 1;\n";d+="\t forloop.first = (forloop.__i === 0) ? true : false;\n";d+="\t forloop.last = (forloop.__c === forloop.__i + 1) ? true : false;\n";d+="\t forloop.__i += 1;\n";return b=c+d},endfor:function(){var a=e.tags._for_closing_tags.pop();return"}"!==a?a+"}":a},empty:function(){var a=e.tags._for_closing_tags.pop();e.tags._for_closing_tags.push("}");return"\n "+a+" } else { \n"},now:function(a){return e.tags._getOutputString("mango.strftime(new Date(), "+
    a[0]+")")},url:function(a){return e.URLConf.parse(a)},apply_filters:function(a){var b,c=a.length;for(b=0;b<c;b++)1<a[b].split("|").length&&(a[b]=e.filters.apply(a[b]));return a},apply:function(a){var b;b=RegExp(/((?:[^\s'"]*(?:(?:"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')[^\s'"]*)+)|\S+)/gi);a=e.filters.trim(a);a=a.match(b);b=a.shift();("if"===b||"elif"===b)&&e.each(a,function(a,b,e){e[b]=a.match(/[>=|<=]/gi)?a.replace(">="," >= ").replace("<="," <= "):a.replace(">"," > ").replace("<"," < ").replace("==",
    " == ").replace("!="," != ")});"filter"!==b&&(a=e.tags.apply_filters(a));return void 0!==e.tags[b]?e.tags[b](a):""}};e.templateSettings={comment:/{#([\s\S]+?)#}/g,tag:/{%([\s\S]+?)%}/g,tvar:/{{([\s\S]+?)}}/g};e.compile=function(a,b,c){void 0===c&&(c=e.templateSettings);var d=RegExp([(c.tvar||m).source,(c.tag||m).source,(c.comment||m).source].join("|")+"|$","g"),g=0,f="__p+='",f=f+"';\n var forloop = {parentloop: {}, __i: 0}, False = false,\n\t True = true,\n\tNone = ''; \n__p+='",f=f+"';\nobj._cycles = {};\n__p+='";
    a.replace(d,function(b,c,d,h,j){f+=a.slice(g,j).replace(p,function(a){return"\\"+n[a]});c&&(c=e.filters.apply(c),f+="'+\n((__t=("+c+"))==null?'':__t)+\n'");d&&(d=e.tags.apply(d),f+="';\n"+d+"\n__p+='");g=j+b.length;return b});f+="';\n";c.variable||(f="with(obj||{}){\n"+f+"}\n");f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var h=new Function("obj","mango",f)}catch(j){throw j.source=f,j;}if(b)return h(b,e);b=function(a){a=a||{};
        return h.call(this,a,e)};b.source="function("+(c.variable||"obj")+"){\n"+f+"}";return b}}).call(window);
